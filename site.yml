---
- hosts: 
    192.168.17.137

  roles:
    # works as designed, disabling execution
    # - role: roman.redis-sentinel
    #   redis_sentinel_port: 26379
    #   bind: 0.0.0.0

    # - role: roman.redis-sentinel
    #   redis_sentinel_port: 26380
    #   bind: 0.0.0.0


    # - name: first instance
    #   role: roman.redis
    #   bind: 127.0.0.1
    #   redis_port: 6379
    #   redis_auth: 'alamakota'
    #   redis_configuration: | 
    #     slave-priority 200
    #   redis_replication:
    #     quorum: 2
    #     master_name: MyMaster1
    #     master_password: alamakota
    #     sentinels:
    #       - host: 127.0.0.1
    #         redis_sentinel_port: 26379
    #       - host: 127.0.0.1
    #         redis_sentinel_port: 26380

    - name: second instance
      role: roman.redis
      bind: 127.0.0.1
      redis_port: 6380
      redis_auth: 'alamakota'
      redis_configuration: | 
        slave-priority 200
      redis_replication:
        quorum: 2
        master_name: MyMaster1
     
        sentinels:
          - host: 127.0.0.1
            redis_sentinel_port: 26379
          - host: 127.0.0.1
            redis_sentinel_port: 26380
        


      